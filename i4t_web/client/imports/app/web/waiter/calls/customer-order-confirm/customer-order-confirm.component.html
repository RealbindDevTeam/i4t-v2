<div *ngFor="let order of _orders | async">
    <mat-card-title>{{ 'CUSTOMER_ORDER.ORDER' | translate }} # {{order.code}} - {{ 'CUSTOMER_ORDER.TABLE' | translate }} {{_tableNumber}} ( {{ 'CUSTOMER_ORDER.CODE' | translate }} {{_tableQRCode}} )</mat-card-title>
    <mat-card-subtitle>{{ 'CUSTOMER_ORDER.CUSTOMER' | translate }}: {{ getUserName(order.creation_user) }}</mat-card-subtitle>
    <mat-card-content>
        <mat-divider></mat-divider>
        <span *ngFor="let it of order.items">
            <span *ngFor="let item of _items | async">
                <ng-template [ngIf]="it.itemId === item._id">
                    <h2 class="name">{{it.quantity}} - {{item.name}}</h2>
                    <p *ngIf="it.observations" class="observations">{{ 'CUSTOMER_ORDER.OBSERVATIONS' | translate }}: {{it.observations}}</p>
                    <p *ngIf="(it.garnishFood.length <= 0)"></p>
                    <div *ngIf="(it.garnishFood.length > 0)" class="garnish-food">
                        <p class="garnish-title">{{ 'CUSTOMER_ORDER.GARNISH_FOOD' | translate }}:</p>
                        <span *ngFor="let garnish of _garnishFood | async">
                            <span *ngFor="let gar of it.garnishFood">
                                <ng-template [ngIf]="gar === garnish._id">
                                    <p class="garnish-name">- {{garnish.name}}</p>     
                                </ng-template>
                            </span>
                        </span>
                    </div>
                    <p *ngIf="(it.additions.length <= 0)"></p>
                    <div *ngIf="(it.additions.length > 0)" class="addition">
                        <p class="addition-title">{{ 'CUSTOMER_ORDER.ADDITIONS' | translate }}:</p>
                        <span *ngFor="let addition of _additions | async">
                            <span *ngFor="let add of it.additions">
                                <ng-template [ngIf]="add === addition._id">
                                    <p class="addition-name">- {{it.quantity}} {{addition.name}}</p>  
                                </ng-template>
                            </span>
                        </span>
                    </div>
                    <mat-divider></mat-divider>
                </ng-template>
            </span>
        </span>
        <span *ngFor="let addit of _additions | async">
            <span *ngFor="let ad of order.additions">
                <ng-template [ngIf]="addit._id === ad.additionId">
                    <h2 class="name">{{ad.quantity}} {{ 'CUSTOMER_ORDER.ADDITION' | translate }} - {{addit.name}}</h2>
                    <mat-divider></mat-divider>
                </ng-template>
            </span>
        </span>
    </mat-card-content>
    <mat-card-actions class="mobile">
        <button mat-raised-button class="button-second" (click)="close()">{{ 'CLOSE' | translate }}</button>
        <button mat-raised-button class="primary-button" (click)="cancelOrder()">{{ 'CUSTOMER_ORDER.CANCEL_ORDER' | translate }}</button>
        <button mat-raised-button class="primary-button" (click)="receiveOrder()">{{ 'CUSTOMER_ORDER.RECEIVE_ORDER' | translate }}</button>
    </mat-card-actions>
</div>
<div class="loading" *ngIf="_loading">
    <mat-spinner></mat-spinner>
</div>