<ion-header>
    <ion-navbar>
        <ion-title>
            {{'MOBILE.WAITER_CALL.TITLE' | translate}}
        </ion-title>
    </ion-navbar>
</ion-header>

<ion-content>
    <div *ngIf="!_userEstablishment" padding>
        <div class="img">
            <img src="assets/img/phone-waiter-call.png">
        </div>
        <div style="text-align: center">
            <h1>{{'MOBILE.WAITER_CALL.THERE_IS_NOT_CODE_REST' | translate}}</h1>
            <p>{{'MOBILE.WAITER_CALL.THERE_IS_NOT_CODE_REST_INS' | translate}}</p>
        </div>
    </div>

    <div *ngIf="_userEstablishment && (_waiters | async)?.length <= 0" padding>
        <div class="img">
            <img src="assets/img/no-waiters.png">
        </div>
        <div style="text-align: center">
            <h1>{{'MOBILE.WAITER_CALL.NO_WAITERS' | translate}}</h1>
        </div>
    </div>

    <div *ngIf="_userEstablishment && !_validatedWaterCall && (_waiters | async)?.length > 0" class="main" (click)="addWaiterCall()">
        <div id="call_action" class="circle">
            <div class="bounce">
                <ion-icon name="hand"></ion-icon>
            </div>
            <div class="circle_action"></div>
        </div>
    </div>
    <div *ngIf="_userEstablishment && !_validatedWaterCall && (_waiters | async)?.length > 0" class="description" padding>
        <p>{{'MOBILE.WAITER_CALL.CONTENT' | translate}}</p>
    </div>

    <svg id="loading" class="img" *ngIf="_userEstablishment && _validatedWaterCall && (_waiters | async)?.length > 0">
        <!--g>
            <path class="ld-i" fill="#EF5350" d="m 5.0088261,6.7812346 q -0.4,0.08 -0.6,0.08 -0.96,0 -1.6,-0.68 -0.6,-0.72 -0.6,-1.68 0,-0.6 0.24,-1.04 0.28,-0.48 0.92,-0.8 0.28,-0.08 0.64,-0.2 0.4,-0.12 0.72,-0.04 0.92,0.12 1.44,0.76 0.52,0.64 0.52,1.44 0,1.68 -1.68,2.16 z m 1.08,25.1600004 -3.32,0 0,-18.52 3.32,0 0,18.52 z"
            />
            <path class="ld-u" fill="#EF5350" id="path4166" d="m 37.810701,25.541235 q -0.36,2.76 -2.04,4.6 -1.64,1.8 -3.44,2.08 -1.76,0.32 -2.56,0.32 -2.32,0 -4.24,-0.96 -1.92,-1 -2.96,-3 -0.52,-1.36 -0.64,-2.64 l 0,-12.6 3.4,0 0,10.96 q 0,2.16 1.2,3.8 1.24,1.6 3.28,1.6 0.32,-0.04 0.48,-0.04 1.68,-0.2 2.88,-1.4 1.24,-1.24 1.24,-2.88 l 0,-12.04 3.4,0 0,12.2 z"
            />
            <path class="ld-r" fill="#EF5350" id="path4168" d="m 61.050701,14.141235 -1.92,2.64 q -1.04,-0.92 -2.16,-0.92 -1.56,0 -2.84,1.56 -1.28,1.52 -1.68,3.36 l 0,11.16 -3.24,0 0,-18.44 3,0 0,4.52 q 0.52,-1.84 1.84,-3.32 1.36,-1.52 3.12,-1.76 2.08,0 3.88,1.2 z"
            />
            <path class="ld-e" fill="#EF5350" id="path4170" d="m 88.490701,27.581235 q -1.68,2.24 -4.08,3.52 -2.4,1.28 -5.08,1.28 -2.56,0 -4.88,-1.24 -2.16,-1.4 -3.28,-3.64 -1.12,-2.24 -1.12,-4.88 0,-3.56 2.04,-6.36 2.08,-2.84 4.24,-3.16 2.2,-0.36 3,-0.36 2.56,0 4.76,1.16 2.24,1.16 3.28,3.56 1.04,2.36 1.04,5.56 l -15.08,0 q 0,2.72 1.72,4.68 1.72,1.96 4.32,1.96 0.8,0 1.44,-0.16 1.6,-0.24 2.76,-1.12 1.16,-0.92 2.28,-2.44 l 2.64,1.64 z m -3.32,-6.96 q -0.44,-2.24 -2.12,-3.64 -1.68,-1.44 -3.96,-1.44 -2.04,0 -3.6,1.52 -1.52,1.48 -2,3.56 l 11.68,0 z"
            />
            <path class="ld-s" fill="#EF5350" id="path4172" d="m 111.9307,16.381235 -2.64,1.56 q -0.32,-1.12 -1.64,-1.84 -1.28,-0.76 -2.76,-0.76 -1.04,0 -1.84,0.44 -0.8,0.4 -1.08,1.12 -0.24,0.68 -0.24,1.12 0,1.04 1.2,2.04 l 6.24,2.2 q 1.4,0.6 2.12,1.76 0.72,1.16 0.72,2.52 0,1.76 -1.04,3.32 -1,1.52 -2.76,2.16 -0.64,0.16 -1.48,0.28 -0.8,0.12 -1.48,0.12 -2.24,0 -4.2,-0.88 -1.919999,-0.92 -3.279999,-2.72 l 2.799999,-1.88 q 0.64,1.32 1.92,2.12 1.28,0.8 2.76,0.8 1.4,0 2.24,-0.6 0.88,-0.6 1.12,-1.08 0.24,-0.48 0.24,-1 0,-0.84 -0.56,-1.52 -0.56,-0.72 -1.56,-1.08 -1.92,-0.56 -4.04,-1.24 -2.08,-0.68 -2.999999,-1.96 -1.16,-1.48 -1.16,-3.16 0,-2.6 1.679999,-3.76 1.72,-1.2 3,-1.44 1.32,-0.24 3.08,-0.24 1.92,0.16 3.2,1.04 1.32,0.88 2.44,2.56 z"
            />
            <path class="ld-t" fill="#EF5350" id="path4174" d="m 134.65258,16.141235 -3.32,0 0,15.8 -3.24,0 0,-15.8 -2.92,0 0,-2.56 2.92,0 0,-7.4800004 3.24,0 0,7.4800004 3.32,0 0,2.56 z"
            />
        </g-->
        <g>
            <path d="m 19.502232,31.647917 c 0,0 0,0 0,0 1.74,0 3.39,-0.6 4.62,-1.56 0.36,-0.27 0.42,-0.72 0.15,-1.05 -0.24,-0.27 -0.66,-0.36 -0.99,-0.12 -1.05,0.81 -2.37,1.29 -3.78,1.29 -3.42,0 -6.12,-2.64 -6.12,-5.94 0,-3.24 2.7,-5.91 6.12,-5.91 1.41,0 2.73,0.48 3.78,1.32 0.33,0.24 0.75,0.15 0.99,-0.12 0.27,-0.33 0.21,-0.78 -0.09,-0.99 -1.29,-1.02 -2.94,-1.62 -4.68,-1.62 -4.2,0 -7.56,3.24 -7.56,7.32 0,4.14 3.36,7.38 7.56,7.38 z"
                id="path3754" class="ld-c" fill="#EF5350" />

            <path d="m 29.001451,24.297917 c 0,3.99 3.12,7.35 6.96,7.35 3.87,0 6.96,-3.36 6.96,-7.35 0,-3.99 -3.09,-7.35 -6.96,-7.35 -3.84,0 -6.96,3.36 -6.96,7.35 z m 1.44,0 c 0,-3.27 2.52,-5.94 5.52,-5.94 3,0 5.52,2.67 5.52,5.94 0,3.27 -2.52,5.91 -5.52,5.91 -3,0 -5.52,-2.64 -5.52,-5.91 z"
                id="path3756" class="ld-o" fill="#EF5350" />

            <path d="m 69.471451,30.957917 c 0,0.36 0.3,0.69 0.69,0.69 0.42,0 0.72,-0.33 0.72,-0.69 l 0,-8.01 c 0,-3.3 -2.67,-5.97 -5.97,-5.97 -2.25,0 -4.23,1.26 -5.28,3.12 -1.02,-1.86 -2.97,-3.12 -5.25,-3.12 -1.83,0 -3.45,0.81 -4.53,2.1 l 0,-1.41 c 0,-0.39 -0.3,-0.69 -0.72,-0.69 -0.36,0 -0.69,0.3 -0.69,0.69 l 0,5.04 0,0.24 0,8.01 0,0.15 c 0.09,0.27 0.33,0.51 0.6,0.54 l 0.09,0 0.09,0 c 0.06,0 0.09,0 0.12,-0.03 0.06,0 0.15,-0.06 0.18,-0.09 0.21,-0.12 0.33,-0.33 0.33,-0.57 l 0,-8.01 c 0,-2.49 2.01,-4.56 4.53,-4.56 2.52,0 4.53,2.07 4.53,4.56 l 0,8.01 0,0.06 0,0.09 c 0.03,0.03 0.03,0.06 0.03,0.09 0.03,0.03 0.03,0.06 0.03,0.06 0.03,0.03 0.03,0.03 0.03,0.06 0.03,0 0.03,0.03 0.06,0.06 l 0.09,0.09 c 0.03,0.03 0.06,0.06 0.09,0.06 0.06,0.03 0.12,0.09 0.18,0.09 0,0 0.03,0.03 0.06,0.03 l 0.06,0 0.09,0 c 0.12,0 0.24,-0.03 0.36,-0.09 0.15,-0.09 0.3,-0.21 0.36,-0.39 l 0,-0.06 c 0,0 0.03,-0.03 0.03,-0.06 l 0,-0.09 0,-8.01 c 0,-2.49 2.04,-4.56 4.53,-4.56 2.52,0 4.5,2.07 4.56,4.56 l 0,8.01 z"
                id="path3758" class="ld-m" fill="#EF5350" />

            <path d="m 83.066607,31.647917 c 2.49,0 4.68,-1.32 5.94,-3.33 0.21,-0.36 0.09,-0.78 -0.24,-1.02 -0.3,-0.18 -0.75,-0.12 -0.96,0.24 -0.99,1.65 -2.79,2.67 -4.74,2.67 -3.03,0 -5.55,-2.43 -5.7,-5.64 l 12.06,0 c 0.39,0 0.72,-0.27 0.72,-0.66 l 0,-0.09 0,-0.03 c -0.3,-3.84 -3.3,-6.84 -7.08,-6.84 -3.96,0 -7.14,3.3 -7.14,7.38 0,4.02 3.18,7.32 7.14,7.32 z m 0,-13.26 c 2.7,0 5.04,2.01 5.52,4.77 l -11.13,0 c 0.54,-2.79 2.85,-4.77 5.61,-4.77 z"
                id="path3760" class="ld-e" fill="#EF5350" />

            <path d="m 44.076685,63.117917 c 0,3.3 2.67,5.97 5.94,6 1.83,0 3.45,-0.84 4.56,-2.1 l 0,0.96 c -0.03,3.03 -2.49,5.46 -5.55,5.46 -0.84,0 -1.68,-0.21 -2.4,-0.57 -0.36,-0.09 -0.75,0 -0.93,0.36 -0.18,0.33 -0.03,0.75 0.3,0.96 0.93,0.42 1.95,0.69 3.03,0.69 3.87,0 6.99,-3.06 6.99,-6.9 l 0,-4.59 0,-0.27 0,-7.98 c 0,-0.09 -0.03,-0.21 -0.09,-0.3 -0.03,-0.09 -0.12,-0.18 -0.18,-0.24 -0.12,-0.06 -0.24,-0.12 -0.36,-0.15 l -0.09,0 -0.09,0 c -0.03,0 -0.06,0.03 -0.09,0.03 l -0.06,0 c -0.09,0.03 -0.21,0.09 -0.27,0.18 -0.03,0 -0.03,0.03 -0.06,0.03 0,0.03 -0.03,0.06 -0.03,0.09 -0.09,0.09 -0.12,0.24 -0.12,0.36 l 0,7.98 c -0.03,2.52 -2.04,4.53 -4.56,4.53 -2.49,0 -4.5,-2.01 -4.5,-4.53 l 0,-7.98 c 0,-0.39 -0.33,-0.69 -0.75,-0.69 -0.36,0 -0.69,0.3 -0.69,0.69 l 0,7.98 z"
                id="path3762" class="ld-y" fill="#EF5350" />

            <path d="m 29.494342,92.667917 c 0,-0.39 -0.33,-0.72 -0.69,-0.72 -0.42,0 -0.75,0.33 -0.75,0.72 l 0,2.16 c -1.23,-1.74 -3.24,-2.88 -5.49,-2.88 -3.84,0 -6.9,3.33 -6.9,7.29 0,4.050003 3.06,7.320003 6.9,7.320003 2.25,0 4.26,-1.11 5.49,-2.88 l 0,1.8 c 0,3.03 -2.43,5.46 -5.49,5.46 -0.9,0 -1.65,-0.18 -2.4,-0.54 -0.36,-0.21 -0.78,-0.06 -0.96,0.33 -0.18,0.33 0,0.75 0.3,0.96 0.96,0.42 1.98,0.69 3.06,0.69 3.84,0 6.93,-3.09 6.93,-6.9 l 0,-12.810003 z m -6.93,12.480003 c -3,0 -5.46,-2.61 -5.46,-5.910003 0,-3.27 2.46,-5.85 5.46,-5.85 3.03,0 5.49,2.58 5.49,5.85 0,3.300003 -2.46,5.910003 -5.49,5.910003 z"
                id="path3764" class="ld-g" fill="#EF5350" />

            <path d="m 48.069029,91.947917 c -0.39,0 -0.72,0.3 -0.72,0.72 l 0,2.16 c -1.26,-1.74 -3.27,-2.88 -5.52,-2.88 -3.87,0 -6.96,3.33 -6.96,7.35 0,4.020003 3.09,7.350003 6.96,7.350003 2.25,0 4.26,-1.17 5.52,-2.91 l 0,2.19 c 0,0.39 0.33,0.72 0.72,0.72 0.39,0 0.72,-0.33 0.72,-0.72 l 0,-13.260003 c 0,-0.42 -0.33,-0.72 -0.72,-0.72 z m -6.24,13.260003 c -3,0 -5.52,-2.61 -5.52,-5.910003 0,-3.3 2.52,-5.94 5.52,-5.94 3.03,0 5.52,2.64 5.52,5.94 0,3.300003 -2.49,5.910003 -5.52,5.910003 z"
                id="path3766" class="ld-a" fill="#EF5350" />

            <path d="m 65.181685,105.92792 c 0,0.42 0.33,0.72 0.72,0.72 0.39,0 0.72,-0.3 0.72,-0.72 l 0,-7.980003 c 0,-3.27 -2.67,-5.97 -5.97,-5.97 -1.83,0 -3.48,0.84 -4.56,2.13 l 0,-1.41 c 0,-0.39 -0.3,-0.72 -0.69,-0.72 -0.42,0 -0.72,0.33 -0.72,0.72 l 0,5.01 0,0.24 0,7.980003 0,0.18 c 0,0 0.03,0.03 0.03,0.06 0,0.03 0,0.06 0.03,0.09 0.09,0.18 0.27,0.33 0.48,0.39 l 0.18,0 c 0.21,0 0.42,-0.09 0.54,-0.27 0.09,-0.09 0.12,-0.21 0.15,-0.33 l 0,-0.12 0,-7.980003 c 0.06,-2.49 2.07,-4.53 4.56,-4.53 2.52,0 4.53,2.04 4.53,4.53 l 0,7.980003 z"
                id="path3768" class="ld-n" fill="#EF5350" />

            <path d="m 84.690123,91.947917 c -0.39,0 -0.72,0.3 -0.72,0.72 l 0,2.16 c -1.26,-1.74 -3.27,-2.88 -5.52,-2.88 -3.87,0 -6.96,3.33 -6.96,7.35 0,4.020003 3.09,7.350003 6.96,7.350003 2.25,0 4.26,-1.17 5.52,-2.91 l 0,2.19 c 0,0.39 0.33,0.72 0.72,0.72 0.39,0 0.72,-0.33 0.72,-0.72 l 0,-13.260003 c 0,-0.42 -0.33,-0.72 -0.72,-0.72 z m -6.24,13.260003 c -3,0 -5.52,-2.61 -5.52,-5.910003 0,-3.3 2.52,-5.94 5.52,-5.94 3.03,0 5.52,2.64 5.52,5.94 0,3.300003 -2.49,5.910003 -5.52,5.910003 z"
                id="path3770" class="ld-a2" fill="#EF5350" />
        </g>
    </svg>
    <svg *ngIf="_userEstablishment && _validatedWaterCall && (_waiters | async)?.length > 0" width='182px' height='182px' xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="uil-ripple">
        <rect x="0" y="0" width="100" height="100" fill="none" class="bk"></rect>
        <g>
            <animate attributeName="opacity" dur="4s" repeatCount="indefinite" begin="0s" keyTimes="0;0.33;1" values="1;1;0"></animate>
            <circle cx="50" cy="50" r="40" stroke="#eeeeee" fill="none" stroke-width="2" stroke-linecap="round">
                <animate attributeName="r" dur="4s" repeatCount="indefinite" begin="0s" keyTimes="0;0.33;1" values="0;22;44"></animate>
            </circle>
        </g>
        <g>
            <animate attributeName="opacity" dur="4s" repeatCount="indefinite" begin="2s" keyTimes="0;0.33;1" values="1;1;0"></animate>
            <circle cx="50" cy="50" r="40" stroke="#eeeeee" fill="none" stroke-width="2" stroke-linecap="round">
                <animate attributeName="r" dur="4s" repeatCount="indefinite" begin="2s" keyTimes="0;0.33;1" values="0;22;44"></animate>
            </circle>
        </g>
    </svg>
</ion-content>

<ion-footer *ngIf="_userEstablishment && _validatedWaterCall && (_waiters | async)?.length > 0">
    <div class="description" padding>
        <h1>{{'MOBILE.WAITER_CALL.RECEIVE_CALL' | translate}}</h1>
        <p>{{'MOBILE.WAITER_CALL.ONE_MOMENT' | translate}}</p>
        <button ion-button block outline type="submit" (click)="cancelWaiterCall()">
            {{'MOBILE.CANCEL' | translate}}
        </button>
    </div>
</ion-footer>